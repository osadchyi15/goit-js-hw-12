{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["'use strict';\n\nconst refs = {\nimageSearchForm: document.querySelector('.search-form'),\nimageSearchInput: document.querySelector('.search-input'),\nsubmitButton: document.querySelector('.search-btn'),\nimageList: document.querySelector('.images-list'),\n}\n\nexport function renderImages(images) {\n\n    const markup = images.hits.map((image) => {\n       return `<li class=\"images-list-item\">\n  <a class=\"img-link\" href=${image.largeImageURL} onclick=\"event.preventDefault()\"><img class=\"img\" src=${image.webformatURL} alt=${image.tags}></img></a>\n   <ul class=\"img-dscr\">\n      <li class=\"img-data\">\n        <p class=\"img-data-title\">Likes</p>\n        <p class=\"img-data-numbers\">${image.likes}</p>\n      </li>\n      <li class=\"img-data\">\n        <p class=\"img-data-title\">Views</p>\n        <p class=\"img-data-numbers\">${image.views}</p>\n      </li>\n      <li class=\"img-data\">\n        <p class=\"img-data-title\">Comments</p>\n        <p class=\"img-data-numbers\">${image.comments}</p>\n      </li>\n      <li class=\"img-data\">\n        <p class=\"img-data-title\">Downloads</p>\n        <p class=\"img-data-numbers\">${image.downloads}</p>\n      </li>\n    </ul>\n</li>`;\n    }).join('\\n');\n\n    refs.imageList.innerHTML = markup;\n}\n\n\n\n","'use strict';\nimport axios from \"axios\";\n\nexport async function getImages(request) {\n    try {\n        axios.defaults.baseURL = 'https://pixabay.com';\n        const res = await axios.get('/api', {\n            params: {\n                key: '44319460-4af2fb7eeaa8b0840083a4a49',\n                q: request,\n                image_type: 'photo',\n                orientation: 'horizontal',\n                safesearch: true,\n                page: 1,\n                per_page: 15,\n            }\n        \n        })\n        return res.data;\n    } catch (error) {\n        console.log(error);\n    };\n}","'use strict';\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport { renderImages } from \"./js/render-functions\";\nimport { getImages } from \"./js/pixabay-api\";\n\nconst refs = {\n    imageSearchForm: document.querySelector('.search-form'),\n    imageSearchInput: document.querySelector('.search-input'),\n    submitButton: document.querySelector('.search-btn'),\n    imageList: document.querySelector('.images-list'),\n    loader: document.querySelector('.loader'),\n}\n\nrefs.loader.style.display = 'none';\n\nlet request;\n\nrefs.imageSearchForm.addEventListener('submit', (e) => {\n    e.preventDefault();\n    request = e.target.elements.userData.value;\n\n    if (request.trim() === '') {\n        refs.imageList.innerHTML = '';\n        return iziToast.info({\n            message: 'You need to enter search request!',\n            position: 'topRight',\n            transitionIn: 'bounceInDown',\n            transitionOut: 'fadeOutDown',\n        });\n    }\nconst loader = document.querySelector('.loader')\n        refs.loader.style.display = 'block';\n\n    getImages(request)\n        .then(images => {\n            if (images.hits.length === 0) {\n                refs.imageList.innerHTML = '';\n                return iziToast.error({\n                    message: 'Sorry, there are no images matching your search query. Please try again!',\n                    position: 'topRight',\n                    transitionIn: 'bounceInDown',\n                    transitionOut: 'fadeOutDown',\n                });\n            } else {\n                renderImages(images);\n\n                const lightbox = new SimpleLightbox('.images-list-item a', {\n                        captions: true,\n                        captionSelector: 'img',\n                        captionType: 'attr',\n                        captionsData: 'alt',\n                        captionPosition: 'bottom',\n                        captionDelay: 250,\n                        animationSpeed: 300,\n                        widthRatio: 1,\n                        heightRatio: 0.95,\n                        disableRightClick: true,\n                    });\n                    lightbox.refresh();\n}            \n        })\n        .then(() => refs.loader.style.display = 'none')\n        .catch(err => {\n            console.log(err);\n            refs.loader.style.display = 'none';\n        });\n    e.target.reset();\n})\n "],"names":["refs","renderImages","images","markup","image","getImages","request","axios","error","e","iziToast","SimpleLightbox","err"],"mappings":"owBAEA,MAAMA,EAAO,CACb,gBAAiB,SAAS,cAAc,cAAc,EACtD,iBAAkB,SAAS,cAAc,eAAe,EACxD,aAAc,SAAS,cAAc,aAAa,EAClD,UAAW,SAAS,cAAc,cAAc,CAChD,EAEO,SAASC,EAAaC,EAAQ,CAEjC,MAAMC,EAASD,EAAO,KAAK,IAAKE,GACtB;AAAA,6BACeA,EAAM,aAAa,0DAA0DA,EAAM,YAAY,QAAQA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA,sCAIxGA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,sCAIXA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,sCAIXA,EAAM,QAAQ;AAAA;AAAA;AAAA;AAAA,sCAIdA,EAAM,SAAS;AAAA;AAAA;AAAA,MAIhD,EAAE,KAAK;AAAA,CAAI,EAEZJ,EAAK,UAAU,UAAYG,CAC/B,CCjCO,eAAeE,EAAUC,EAAS,CACrC,GAAI,CACA,OAAAC,EAAM,SAAS,QAAU,uBACb,MAAMA,EAAM,IAAI,OAAQ,CAChC,OAAQ,CACJ,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,KAAM,EACN,SAAU,EACb,CAEb,CAAS,GACU,IACd,OAAQE,EAAO,CACZ,QAAQ,IAAIA,CAAK,CAEzB,CAAA,CCXA,MAAMR,EAAO,CACT,gBAAiB,SAAS,cAAc,cAAc,EACtD,iBAAkB,SAAS,cAAc,eAAe,EACxD,aAAc,SAAS,cAAc,aAAa,EAClD,UAAW,SAAS,cAAc,cAAc,EAChD,OAAQ,SAAS,cAAc,SAAS,CAC5C,EAEAA,EAAK,OAAO,MAAM,QAAU,OAE5B,IAAIM,EAEJN,EAAK,gBAAgB,iBAAiB,SAAWS,GAAM,CAInD,GAHAA,EAAE,eAAc,EAChBH,EAAUG,EAAE,OAAO,SAAS,SAAS,MAEjCH,EAAQ,KAAM,IAAK,GACnB,OAAAN,EAAK,UAAU,UAAY,GACpBU,EAAS,KAAK,CACjB,QAAS,oCACT,SAAU,WACV,aAAc,eACd,cAAe,aAC3B,CAAS,EAEM,SAAS,cAAc,SAAS,EACvCV,EAAK,OAAO,MAAM,QAAU,QAEhCK,EAAUC,CAAO,EACZ,KAAKJ,GAAU,CACZ,GAAIA,EAAO,KAAK,SAAW,EACvB,OAAAF,EAAK,UAAU,UAAY,GACpBU,EAAS,MAAM,CAClB,QAAS,2EACT,SAAU,WACV,aAAc,eACd,cAAe,aACnC,CAAiB,EAEDT,EAAaC,CAAM,EAEF,IAAIS,EAAe,sBAAuB,CACnD,SAAU,GACV,gBAAiB,MACjB,YAAa,OACb,aAAc,MACd,gBAAiB,SACjB,aAAc,IACd,eAAgB,IAChB,WAAY,EACZ,YAAa,IACb,kBAAmB,EAC3C,CAAqB,EACQ,QAAO,CAEpC,CAAS,EACA,KAAK,IAAMX,EAAK,OAAO,MAAM,QAAU,MAAM,EAC7C,MAAMY,GAAO,CACV,QAAQ,IAAIA,CAAG,EACfZ,EAAK,OAAO,MAAM,QAAU,MACxC,CAAS,EACLS,EAAE,OAAO,OACb,CAAC"}